version: v2
managed:
  enabled: true
plugins:
  # Generate Go code (Standard)
  - remote: buf.build/protocolbuffers/go:v1.31.0
    out: api
    opt: paths=source_relative
  # Generate gRPC code for Go
  - remote: buf.build/grpc/go:v1.3.0
    out: api
    opt: paths=source_relative
  # Generate Kratos HTTP code for Go (Local plugin)
  - plugin: go-http
    out: api
    opt: paths=source_relative
  # Generate OpenAPI documentation (Local plugin)
  - plugin: openapi
    out: internal/server
    opt: 
      - fq_schema_naming=true
      - default_response=false
